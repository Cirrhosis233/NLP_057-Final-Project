2nd post question n't seem get answer suppos idl app realiz map window contain xlib graphic . 
a button widget press caus new item drawn window . 
this action clear call xcopyarea equiv direct instead regist exist new item memori structur let expos event handler handl regular expos event e.g . 
window manager-driven exposur take care render new imag . 
use expos event handler proper way time handler call xlib window guarante map . 
the problem cours expos event generat window alreadi visibl map . 
what need somehow tickl window expos handler hit argument enabl render part window contain new item . 
what best way tickl window produc behavior ? 
to increment updat content window i use follow trick 1 . 
set window background none 2 . 
call xclearareadisplay window 0 0 0 0 true 3 . 
restor window background correct valu . 
the call xcleararea repaint window background still generat exposur event visibl part window . 
in order let applic know expos event must handl increment someth alreadi display screen may need eras i encapsul 3 oper 2 self address client messag preserv asynchron client server . 
xgrabserverdisplay client messag start-increment background none xcleararea restor background client messag end-increment xungrabserverdisplay the grabserv prevent event insert server critic section . 
