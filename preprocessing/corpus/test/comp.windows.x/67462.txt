i post week back i got back error messag pnew devnul permiss deni . 
yep devnul mode 600 . 
arrghhh ! ! 
with renew interest set display variabl etc .. 
i thought i would post contribut . 
this perl script solut . 
it trys intellig 's abl type rx host.domain.etc get xterm run host.domain.etc difficult stuff taken care . 
in theori program everyth ever want want run remot command background n't even need x program . 
tri rx big-machin make instanc background make remot big-machin . 
for detail full list featur read readm file 20 line ... 
all comment welcom . 
duncan . 
binsh this shell archiv . 
remov anyth line unpack save file type sh file . 
to overwrit exist file type sh file -c . 
you also feed standard input via unshar type sh file e.g .. 
if archiv complet see follow messag end end archiv 1 1 content readm imakefil manifest makefil rx.man rx.pl pathbinusrbinusrucb export path test -f readm ' -a 1 -c echo shar will clobber exist file readm ' els echo shar extract readm ' 1442 charact sed sx readm ' endoffil ' x x glasgow rx remot execut x program . 
version 3.1.7 x x xtrivial instal 's imakefil make even trivial . 
x xthe perl script need customis instal xedit rx.pl file read comment . 
onc ve done xthis xmkmf make instal install.man . 
x xfeatur x x doe right thing off-sit remot execut . 
includ x set display includ domain name pass x magic cooki xhost stuff . 
x x allow differ remot user name . 
rx -l user host ... 
x x smart quot argument make pass wild-card easi . 
x x custom command execut link remac get remot x emac command . 
x x automat xterm option name xterm accord hostnam x turn login shell . 
x x default command xterm . 
x x propag x-ish env . 
variabl remot session user may x extend list variabl pass . 
x x special handl bourn shell user . 
x x tri remot execut directori local . 
x that propag pwd intellig manner . 
x x log error file . 
x x overal intellig tm make reason decis x tri tri right thing . 
x x written perl portabl hackabl . 
x xfor info read man page sourc . 
x endoffil test 1442 -ne wc -c readm ' echo shar readm ' unpack wrong size ! 
fi end readm ' fi test -f imakefil ' -a 1 -c echo shar will clobber exist file imakefil ' els echo shar extract imakefil ' 370 charact sed sx imakefil ' endoffil ' x glasgow rx imakefil . 
x x program rx x xall program x xinstal safe x xinstallnamedprogrx.plrxbindir xinstallmanpagerxmandir x xinstal x rm bindirrxterm x ln bindirrx bindirrxterm x xsafe x xshar safe x makekit -m -p x endoffil test 370 -ne wc -c imakefil ' echo shar imakefil ' unpack wrong size ! 
fi end imakefil ' fi test -f manifest ' -a 1 -c echo shar will clobber exist file manifest ' els echo shar extract manifest ' 313 charact sed sx manifest ' endoffil ' x file name archiv descript x- x readm 1 read first x imakefil 1 x manifest 1 this ship list x makefil 1 x rx.man 1 x rx.pl 1 endoffil test 313 -ne wc -c manifest ' echo shar manifest ' unpack wrong size ! 
fi end manifest ' fi test -f makefil ' -a 1 -c echo shar will clobber exist file makefil ' els echo shar extract makefil ' 10172 charact sed sx makefil ' endoffil ' x makefil generat imak edit ! 
x xconsortium imake.cv 1.65 910725 175017 rws exp x x the cpp use machin replac newlin multipl tab x space macro expans singl space . 
imak tri compens x alway success . 
x x x x makefil generat imake.tmpl tmpiif.a04196 x xconsortium imake.tmplv 1.139 910916 085248 rws exp x x platform-specif paramet may set appropri vendor.cf x configur file . 
site-specif paramet set file x site.def . 
full rebuild recommend paramet chang . 
x x if c preprocessor defin uniqu symbol need x set bootstrapcflag rebuild imak usual x make world first time . 
x x x x site-specif configur paramet need come x platform-specif paramet edit site.def chang x x site xconsortium site.defv 1.2 910730 202644 rws exp x x x platform-specif configur paramet edit sun.cf chang x x platform xconsortium sun.cfv 1.72.1.1 920318 131337 rws exp x x oper system suno 4.1.3 x x xconsortium sunlib.rulesv 1.7 911220 111947 rws exp x x x site-specif configur paramet go x platform-specif paramet edit site.def chang x x site xconsortium site.defv 1.2 910730 202644 rws exp x x shell binsh x x top x currentdir x x ar ar cq x bootstrapcflag x cc gcc -fpcc-struct-return x as x x compress compress x cpp libcpp stdcppdefin x preprocesscmd gcc -fpcc-struct-return -e stdcppdefin x instal instal x ld ld x lint lint x lintlibflag -c x lintopt -axz x ln ln -s x make make x mv mv x cp cp x x ranlib ranlib x ranlibinstflag x x rm rm -f x troff psroff x msmacro -ms x tbl tbl x eqn eqn x stdinclud x stdcppdefin x stddefin x extraloadflag x extralibrari x tag ctag x x sharedcodedef -dsharedcod x shlibdef -dsunshlib x x protodefin x x instpgmflag x x instbinflag -m 0755 x instuidflag -m 4755 x instlibflag -m 0644 x instincflag -m 0444 x instmanflag -m 0444 x instdatflag -m 0444 x instkmemflag -g kmem -m 2755 x x projectroot usrx11 x x topinclud -iincroot x x cdebugflag -o2 x ccoption x x allinclud includ extrainclud topinclud stdinclud x alldefin allinclud stddefin extradefin protodefin defin x cflag cdebugflag ccoption alldefin x lintflag lintopt -dlint alldefin x x ldlib syslibrari extralibrari x x ldoption cdebugflag ccoption localldflag -lusrlibdir x x ldcombineflag -x -r x dependflag x x macrofil sun.cf x rmcmd rm .ckp .ln .bak .bak .o core err .a .emac tag tag make.log makeout x x imakedefin x x irulesrc configdir x imakecmd imak -duseinstal -iirulesrc imakedefin x x iconfigfil irulesrcimake.tmpl irulesrcimake.rul x irulesrcproject.tmpl irulesrcsite.def x irulesrcmacrofil extraiconfigfil x x x x window system build paramet x xconsortium project.tmplv 1.138.1.1 921111 094919 rws exp x x x x window system make variabl need coordin rule x x pathsep x usrlibdir usrx11lib x bindir usrx11localbin x incroot usrx11includ x buildincroot top x buildincdir buildincrootx11 x buildinctop .. 
x incdir incrootx11 x admdir usradm x libdir usrlibdirx11 x configdir libdirconfig x lintlibdir usrlibdirlint x x fontdir libdirfont x xinitdir libdirxinit x xdmdir libdirxdm x twmdir libdirtwm x manpath usrx11man x mansourcepath manpathman x mansuffix n x libmansuffix 3 x mandir mansourcepathmansuffix x libmandir mansourcepathlibmansuffix x nlsdir libdirnl x pexapidir libdirpex x xapploaddir libdirapp-default x fontcflag -t x x instappflag instdatflag x x imak imak x depend makedepend x rgb rgb x x fontc bdftopcf x x mkfontdir mkfontdir x mkdirhier binsh bindirmkdirhi x x configsrc topconfig x docutilsrc topdocutil x clientsrc topclient x demosrc topdemo x libsrc toplib x fontsrc topfont x includesrc topx11 x serversrc topserv x utilsrc toputil x scriptsrc utilsrcscript x examplesrc topexampl x contribsrc top .. contrib x docsrc topdoc x rgbsrc toprgb x dependsrc utilsrcmakedepend x imakesrc configsrc x xauthsrc libsrcxau x xlibsrc libsrcx x xmusrc libsrcxmu x toolkitsrc libsrcxt x awidgetsrc libsrcxaw x oldxlibsrc libsrcoldx x xdmcplibsrc libsrcxdmcp x bdftosnfsrc fontsrcbdftosnf x bdftosnfsrc fontsrcclientsbdftosnf x bdftopcfsrc fontsrcclientsbdftopcf x mkfontdirsrc fontsrcclientsmkfontdir x fslibsrc fontsrclibf x fontserversrc fontsrcserv x extensionsrc topextens x xilibsrc extensionsrclibxinput x pexlibsrc extensionsrclibpexlib x phigslibsrc extensionsrclibpex x x xconsortium sunlib.tmplv 1.14.1.2 921111 095502 rws exp x xshlibldflag -assert pure-text xpicflag -fpic x x depextensionlib x extensionlib -lxext x x depxlib depextensionlib x xlib extensionlib -lx11 x x depxmulib usrlibdirlibxmu.sa.soxmurev x xmulibon -lxmu x xmulib -lxmu x x depoldxlib x oldxlib -loldx x x depxtoollib usrlibdirlibxt.sa.soxtrev x xtoollib -lxt x x depxawlib usrlibdirlibxaw.sa.soxawrev x xawlib -lxaw x x depxilib x xilib -lxi x x deppexlib x pexlib -lpex5 x x soxlibrev 4.10 x soxtrev 4.10 x soxawrev 5.0 x sooldxrev 4.10 x soxmurev 4.10 x soxextrev 4.10 x soxinputrev 4.10 x sopexrev 1.0 x x depxauthlib usrlibdirlibxau.a x xauthlib -lxau x depxdmcplib usrlibdirlibxdmcp.a x xdmcplib -lxdmcp x x depphigslib usrlibdirlibphigs.a x phigslib -lphig x x depxbsdlib usrlibdirlibxbsd.a x xbsdlib -lxbsd x x lintextensionlib lintlibdirllib-lxext.ln x lintxlib lintlibdirllib-lx11.ln x lintxmu lintlibdirllib-lxmu.ln x lintxtool lintlibdirllib-lxt.ln x lintxaw lintlibdirllib-lxaw.ln x lintxi lintlibdirllib-lxi.ln x lintpex lintlibdirllib-lpex5.ln x lintphig lintlibdirllib-lphigs.ln x x deplib depxawlib depxmulib depxtoollib depxlib x x deplibs1 deplib x deplibs2 deplib x deplibs3 deplib x x x imak rule build librari program script data file x rule xconsortium imake.rulesv 1.123 910916 201216 rws exp x x x start imakefil x x glasgow rx imakefil . 
x x program rx x xall program x xinstal safe x xinstal rx.pl x els set -x mkdirhier destdirbindir fi x instal -c instbinflag rx.pl destdirbindirrx x xinstall.man rx.man x els set -x mkdirhier destdirmandir fi x instal -c instmanflag rx.man destdirmandirrx.mansuffix x xinstal x rm bindirrxterm x ln bindirrx bindirrxterm x xsafe x xshar safe x makekit -m -p x x x common rule makefil edit x xemptyrul x xclean x rmcmd x xmakefil x rm makefile.bak mv makefil makefile.bak x els exit 0 
fi x imakecmd -dtopdirtop -dcurdircurrentdir x xtag x tag -w .ch x tag -xw .ch tag x xsaber x load alldefin srcs x xosab x load alldefin obj x x x empti rule directori subdir edit x xinstal x xinstall.man x xmakefil x xinclud x x x depend generat makedepend x endoffil test 10172 -ne wc -c makefil ' echo shar makefil ' unpack wrong size ! 
fi end makefil ' fi test -f rx.man ' -a 1 -c echo shar will clobber exist file rx.man ' els echo shar extract rx.man ' 3551 charact sed sx rx.man ' endoffil ' x.th rx 1 4 march 1993 x version 11 x.sh name xrxrxtermr remot command xterm anyth execut x.sh synopsi x.b rx x x.b -l x.i usernam x x.i host x x.i command x x.br x.b rxterm x x.b -l x.i usernam x x.i host x x.ir arg ... 
x x.sh descript xthe x.b rx xprogram connect specifi x.i host xand execut specifi x.i command xin background return immedi . 
to allow execut xof x program copi number environment variabl xthe remot session . 
if omit x.ir command xthen rx start xterm remot host . 
the x.b rxterm xvarient start remot xterm host also pass x.i arg xto remot xterm argument . 
x.pp xshell metacharact quot interpret local xmachin quot metacharact interpret remot xmachin . 
x.pp xif name file x.b rx xis execut anyth rx '' x.b rx xtake name strip lead r '' command xto run remot host use x.i command xparamet argument remot command . 
x.pp xif x.b rx xthink use x.b xauth xbase x authoris call off-sit host xto differ usernam attempt copi author xkey remot account . 
otherwis tri use x.b xhost1 xto grant access remot host . 
x.sh option x.tp x.bi -l usernam xuse x.i usernam xas remot usernam instead local usernam . 
in absenc xof option remot usernam local usernam . 
x x.sh environ xif set valu path display xenviron xapplresdir xxfilesearchpath xuserfilesearchpath openwinhom ldlibrarypath xand xauthor export remot program unless xremot usernam differ remot host off-sit xcase display export case variabl name xvariabl rxenv . 
x.pp xthe display variabl tweak appropri contain qualifi xa hostnam need . 
x.sh diagnost x.tp x.ib command n't recognis name x.b rx xcannot decod name call . 
in case xit print warn messag continu normal . 
x.tp x.b rx usag rx -l usernam hostnam arg ... 
xthis mean could decod argument given . 
x.sh author x.br xorigin base program name x.b gwm xdistribut . 
to distinguish rx program xwith similar name refer program x.b glasgow x.br rx x.sh see also xx1 rsh1 xterm1 xauth1 xhost1 gwm1 x.sh bug x.b rx xmake number assumpt relationship xlocal user remot one depend whether remot xhost onsit whether altern usernam use xor . 
x.pp xin particular either local use shell remot xuse shell standard bourn shell x.b sh1 xthen strang thing like happen . 
especi xit 's one . 
x.pp xsometim quot get mess . 
x.pp xit 's easi fool smart x.b rx xto make believ someth true fail . 
x.pp xwhen x.b rx xuse x.b xhost xto grant access x.b xhost xcommand may fail silent . 
x.pp xif x.b rx xtri send larg command remot machin xlike fail pars error csh . 
if happen xwill probabl reduc size export environ . 
endoffil test 3551 -ne wc -c rx.man ' echo shar rx.man ' unpack wrong size ! 
fi end rx.man ' fi test -f rx.pl ' -a 1 -c echo shar will clobber exist file rx.pl ' els echo shar extract rx.pl ' 9028 charact sed sx rx.pl ' endoffil ' x ! 
usrlocalbinperl x config chang line point copi perl . 
x x glasgow rx version 3.1.7 x x x last modifi earli april 1993 . 
x x distribut limit per usual mit copyright . 
x x remot execut x program . 
base script old version gwm . 
x x to instal put rx bin make rxterm link . 
x some configur necessari see config comment ... 
x x more less less like origin .... 
x x major hack work ourmi set also part x re-written work sh rather ksh . 
x x mayb i ll turn first zsh script ! 
x x look like turn perl script point big improv . 
x x this code tri intellig way work . 
this mean x ton implicit assumpt environ run . 
x these assumpt valid machin i use x environ . 
at time i tri make assumpt possibl x remot machin . 
here 's list tricki one ... 
x that remot machin csh . 
linux ? 
x that rshell bink ? sh remot shell bink ? sh . 
make . 
x if remot shell sh path compat . 
use csh etc .. 
x i pass cooki remot machin need x know cooki . 
eat ? 
x there must other ... 
x x whi i use csh run remot command ? 
simpli n't x interact bad rsh hang wait file descriptor x close . 
i 'd rather use zsh bash even perl x univers csh . 
x x xrequir stat.pl x x what call ? 
x xargv0 0 
xargv0 . 
x x config x chang variabl domain name pattern x match variat domain name . 
you must includ x lead dot ! ! ! 
if hostnam includ domain see x code mark xxx x xdom .dcs.gla.ac.uk xdompat .dcs.glasgow ? .ac.uk ? ? 
x x config x chang valu bindir set variabl x think user smarter . 
x xxpath usrx11bin x x config x make name remot shell command . 
x xrsh rsh x x end config x x some variabl ll doubt use sometim ... 
x xusag argv0 usag argv0 -l usernam hostnam arg ... n xrshell getpwuid8 binsh xhome envhom getpwuid7 xxauth envxauthor home .xauthor xlogf .rx.log xdebug 0 
x x befor anyth els close stdin . 
this might stop rx hang x due rsh weird . 
x xclosestdin x x -l flag ... 
x xif argv0 eq -l x shift x user argv0 die usag x shift x x x pick host host ... 
x xmach argv0 die usag xshift x x thing think remot machin . 
x xmach sdompat xoffsit mach x x where i ? 
seem ca n't trust dumb user set hostnam right ! 
x xhostnameenvhostnam hostnam current host xhostnamehostnam current host xhostnam sn x x if hostnam includ domain comment next line . 
x xif offsit hostnam hostnam dom xxx x x now know differ ? 
x xdiff hostnam ne mach x x what display go ? 
x ! ! 
danger ! ! 
heavi regular express follow ... 
x this need re-written modular extend x support reset host unix requir . 
x xdisplay envdisplay 0.0 xdisplay sdompat xdisplay sunix ? d.d ? hostname2 diff xdisplay s.d.d ? 1dom2 offsit xenvdisplay display x x here come hard bit sh . 
quot arg . 
x also quot quot . 
to cope csh braindamag x quot quot thus `` ' x so arg foo'bar get foo '' bar ' . 
x x '' '' g x s. ' 1 ' x x x so ? 
x xprog x argv0 eq rx last prog x argv0 eq rxterm x last prog x x warn argv0 n't recognis name x x x if noth els becom rxterm . 
x x x x some special consider side . 
x xif offsit user x x we want pass cooki . 
x x -e xauth x x this go unsecur cooki appear number x command line arg . 
but least ll work . 
x this need enhanc ever fix code x set display 0.0 return server . 
x x cooki pathpathxpath xauth list display x chopcooki x els x x yuk . 
what crock . 
i hate . 
x x systemxhost mach devnul 2devnul diff x x x we realli want pass valu display . 
x x els x x some variabl wish export x x display x xenviron x xfilesearchpath x xuserfilesearchpath x xapplresdir x openwinhom x ldlibrarypath x manpath rxman bourn shell user . 
x xauthor x split ' envrxenv x x x braindead bourn shell need given path ... 
x we would rather pass current path might work x destin machin . 
i 'd rather set user 's x remot shell rsh . 
x fortun x program arch independ place x n't cos problem local . 
x we check rshell might run anoth shell x differ login shell . 
i know sound weird 's x common round . 
x i ve also includ ksh brain-damag cos i ca n't see easi way x pass throught envenv without late . 
we x one person ksh login shell anyway ... 
x oh yeah .. 
assum 's bourn shell 's x bourn shell . 
much import isnt x bourn shell better bourn shell . 
x x x x valid pwd routin ... 
x xsub validatepwd x localpwd 0 
x x unless definedpwd return undef x pwdstatsstdev dotstatsstdev x pwdstatsstino dotstatsstino return undef x pwd x x x tri find nice valid pwd . 
x xpresent x pwd envpwd x foopwd pwd x foopwd stmpmntexport ? .2 x pwd validatepwdfoopwd validatepwdpwd x x unless pwd x choppwd pwd x foopwd pwd x foopwd stmpmntexport ? .2 x pwd validatepwdfoopwd validatepwdpwd home x x xpwd s. ' 1 ' x x tri find somewher nice live side . 
x xunless offsit x x x start build full command . 
x x val envvar x x x some command side ... 
x x x build remot command . 
x xremot sg xremot remot x x build arg list exec . 
x x x do ! 
x xif debug x els x x x rsh n't return indic went x side 's ok cos aint go x wait around see happen . 
x xexit 0 
x x the end endoffil test 9028 -ne wc -c rx.pl ' echo shar rx.pl ' unpack wrong size ! 
fi chmod x rx.pl ' end rx.pl ' fi echo shar end archiv 1 1 . 
cp devnul ark1isdon miss i 1 test -f arkiisdon missingmiss i fi done test miss echo you archiv . 
rm -f ark1-9isdon els echo you still need unpack follow archiv echo miss fi end shell archiv . 
exit 0 
